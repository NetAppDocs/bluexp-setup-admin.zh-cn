---
sidebar: sidebar 
permalink: task-configuring-proxy.html 
keywords: proxy, proxy server, proxy, internet, HTTP, http, https 
summary: 如果您的公司策略要求您使用代理服务器进行与Internet的所有通信、则需要将您的连接器配置为使用该代理服务器。如果您未将Connector配置为在安装期间使用代理服务器、则可以将Connector配置为随时使用该代理服务器。 
---
= 配置Connector以使用代理服务器
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
如果您的公司策略要求您使用代理服务器进行与Internet的所有通信、则需要将您的连接器配置为使用该代理服务器。如果您未将Connector配置为在安装期间使用代理服务器、则可以将Connector配置为随时使用该代理服务器。

BlueXP支持HTTP和HTTPS。代理服务器可以位于云中或网络中。

如果公共IP地址或NAT网关不可用、则将Connector配置为使用代理服务器可提供出站Internet访问。此代理服务器仅为Connector提供出站连接。它不为Cloud Volumes ONTAP 系统提供任何连接。

如果Cloud Volumes ONTAP 系统没有出站Internet连接来发送AutoSupport 消息、则BlueXP会自动将这些Cloud Volumes ONTAP 系统配置为使用Connector附带的代理服务器。唯一的要求是确保Connector的安全组允许通过端口3128进行入站连接。部署Connector后、您需要打开此端口。



== 在 Connector 上启用代理

在将 Connector 配置为使用代理服务器时，该连接器及其管理的 Cloud Volumes ONTAP 系统（包括任何 HA 调解器）都会使用代理服务器。

请注意，此操作将重新启动 Connector 。在继续操作之前、请确保Connector未执行任何操作。

.步骤
. 在BlueXP控制台的右上角、选择设置图标、然后选择*连接器设置*。
+
image:screenshot_settings_icon.gif["一个屏幕截图、显示了BlueXP控制台右上角的设置图标。"]

. 在*常规*下、选择* HTTP代理配置*。
. 设置代理：
+
.. 选择*启用代理*。
.. 使用语法指定服务器 http://_address:port_[] 或 https://_address:port_[]
.. 如果服务器需要基本身份验证，请指定用户名和密码
.. 选择 * 保存 * 。
+

NOTE: BlueXP不支持包含@字符的密码。







== 启用直接 API 流量

如果您将Connector配置为使用代理服务器、则可以在Connector上启用直接API流量、以便在不通过代理的情况下直接向云提供商服务发送API调用。在 AWS ， Azure 或 Google Cloud 中运行的 Connectors 支持此选项。

如果您禁用了在Cloud Volumes ONTAP 中使用Azure专用链路、而是使用服务端点、则必须启用直接API流量。否则、流量将无法正确路由。

https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-enabling-private-link.html["了解有关将Azure专用链路或服务端点与Cloud Volumes ONTAP 结合使用的更多信息"^]

.步骤
. 在BlueXP控制台的右上角、选择设置图标、然后选择*连接器设置*。
+
image:screenshot_settings_icon.gif["一个屏幕截图、显示了BlueXP控制台右上角的设置图标。"]

. 在*常规*下、选择*支持直接API流量*。
. 选中此复选框以启用此选项、然后选择*保存*。

